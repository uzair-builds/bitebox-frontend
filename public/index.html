<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/weblogo.jpg" type="image/jpeg" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Web site created using create-react-app"
    />
    <!-- <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" /> -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css" integrity="sha512-Zcn6bjR/8RZbLEpLIeOwNtzREBAJnUKESxces60Mpoj+2okopSAcSUIUOseddDm0cxnGQzxIR7vJgsLZbdLE3w==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <title>Bitebox</title>

  <style>
    body{font-family:Verdana,sans-serif;font-size:15px;line-height: 1.5;}

    /* ----- help bubble ----- */
    #ai-help{
      position:fixed;
      right:24px; bottom:24px;
      display:flex; align-items:center; gap:8px;
      background:#ff7b00; color:#fff;
      padding:10px 16px; border-radius:40px;
      box-shadow:0 4px 14px rgba(0,0,0,.25);
      cursor:pointer; z-index:2147483647;
      transition:transform .15s ease;
      font-weight:600;
    }
    #ai-help:hover{transform:scale(1.05);}
    #ai-help i{font-size:20px;}

    /* pulse to draw eye */
    #ai-help::after{
      content:''; position:absolute; inset:0; border-radius:40px;
      background:rgba(255,123,0,.35);
      animation:pulse 2.8s infinite;
    }
    @keyframes pulse{
      0%{transform:scale(.9);opacity:.6}
      70%{transform:scale(1.8);opacity:0}
      100%{opacity:0}
    }

    /* tooltip (autoâ€‘hide) */
    #ai-tooltip{
      position:fixed; right:36px; bottom:90px;
      background:#333; color:#fff; font-size:13px;
      padding:6px 10px; border-radius:4px; white-space:nowrap;
      opacity:0; transform:translateY(8px);
      animation:fadeIn .4s forwards .4s;
      z-index:2147483646;
    }
    @keyframes fadeIn{to{opacity:1;transform:translateY(0)}}
    @keyframes fadeOut{to{opacity:0;transform:translateY(8px)}}

    /* move n8n default button slightly lower so itâ€™s never behind ai-help */
    .n8n-chat-button{bottom:100px !important}
  </style>
</head>

<body>
  <noscript>You need to enable JavaScript to run this app.</noscript>
  <div id="root"></div>

  <div id="ai-help">
    <i class="fa-solid fa-comment-dots"></i>
    Ask&nbsp;Bitebox&nbsp;AI
  </div>
  <div id="ai-tooltip">Need help? Click here!</div>

  

  <script type="module">
    const bubble = document.getElementById('ai-help');
    const tooltip = document.getElementById('ai-tooltip');
  
    // Auto-hide tooltip after 5s
    setTimeout(() => tooltip.style.animation = 'fadeOut .4s forwards', 5000);
  
    bubble.addEventListener('click', async () => {
      // Hide tooltip immediately & stop bubble pulse
      tooltip.remove();
      bubble.style.animation = 'none';
  
      // Remove bubble once chat opens
      bubble.remove();
  
      // Load CSS
      const css = document.createElement('link');
      css.rel = 'stylesheet';
      css.href = 'https://cdn.jsdelivr.net/npm/@n8n/chat/dist/style.css';
      document.head.appendChild(css);
  
      // Load JS and create chat
      const { createChat } = await import(
        'https://cdn.jsdelivr.net/npm/@n8n/chat/dist/chat.bundle.es.js'
      );
  
      const chat = createChat({
        webhookUrl: 'https://uzair53.app.n8n.cloud/webhook/6d335538-e30f-4599-8a75-ef63112e955c/chat',
        initialMessages: [
          'Hi there! ðŸ‘‹',
          "I'm Bitebox-AI-Assistant. How can I help?"
        ],
        // Add these configurations to ensure chat opens immediately
        defaultOpen: true, // Makes chat open by default
        openOnLoad: true   // Ensures chat opens when loaded
      });
  
      // Programmatically open the chat immediately
      // No need to wait for button click
      setTimeout(() => {
        chat.open(); // Force open the chat
      }, 100); // Small delay to ensure everything is initialized
    });
  </script>

  <!-- your other libs -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.js" integrity="sha512-BwHfrr4c9kmRkLw6iXFdzcdWV/PGkVgiIyIWLLlTSXzWQzxuSg4DiQUCpauz/EWjgk5TYQqX/kvn9pG1NpYfqg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</body>
</html>
